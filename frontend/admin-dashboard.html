<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Vedant Verma</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <a href="index.html" class="sidebar-item">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="about.html" class="sidebar-item">
            <i class="fas fa-user"></i>
            <span>About</span>
        </a>
        <a href="gallery.html" class="sidebar-item">
            <i class="fas fa-images"></i>
            <span>Gallery</span>
        </a>
        <a href="contact.html" class="sidebar-item">
            <i class="fas fa-envelope"></i>
            <span>Contact</span>
        </a>
        <a href="admin-dashboard.html" class="sidebar-item active">
            <i class="fas fa-cog"></i>
            <span>Admin</span>
        </a>
        <a href="#" class="sidebar-item" id="logout-btn">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
        </a>
    </nav>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="theme-toggle">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Main Content -->
    <main class="main-content admin-dashboard">
        <h1 style="margin-bottom: 2rem;">Admin Dashboard</h1>

        <!-- Admin Tabs -->
        <div class="admin-tabs">
            <button class="admin-tab active" data-tab="overview">Overview</button>
            <button class="admin-tab" data-tab="artworks">Manage Artworks</button>
            <button class="admin-tab" data-tab="orders">Manage Orders</button>
            <button class="admin-tab" data-tab="about">About Section</button>
            <button class="admin-tab" data-tab="funfacts">Fun Facts</button>
            <button class="admin-tab" data-tab="contact">Contact & Services</button>
            <button class="admin-tab" data-tab="settings">Settings</button>
        </div>

        <!-- Overview Tab -->
        <div class="admin-tab-content active" id="overview-tab">
            <div class="admin-stats" id="dashboard-stats">
                <div class="loader"></div>
            </div>
        </div>

        <!-- Manage Artworks Tab -->
        <div class="admin-tab-content" id="artworks-tab">
            <div style="margin-bottom: 2rem;">
                <button class="btn btn-primary" id="add-artwork-btn">
                    <i class="fas fa-plus"></i> Add Artwork
                </button>
            </div>
            <div id="artworks-list">
                <div class="loader"></div>
            </div>
        </div>

        <!-- Manage Orders Tab -->
        <div class="admin-tab-content" id="orders-tab">
            <div id="admin-orders-list">
                <div class="loader"></div>
            </div>
        </div>

        <!-- About Section Tab -->
        <div class="admin-tab-content" id="about-tab">
            <div class="card">
                <h2 class="card-header">About Section</h2>
                <form id="about-form">
                    <div class="form-group">
                        <label for="about-bio" class="form-label">Bio</label>
                        <textarea id="about-bio" class="form-textarea" rows="10"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="about-image" class="form-label">Profile Picture</label>
                        <input type="file" id="about-image" accept="image/*" class="form-input">
                    </div>
                    <button type="submit" class="btn btn-primary">Update About</button>
                </form>
            </div>
        </div>

        <!-- Fun Facts Tab -->
        <div class="admin-tab-content" id="funfacts-tab">
            <div class="card">
                <h2 class="card-header">Manage Fun Facts</h2>
                <form id="funfact-form" style="margin-bottom: 2rem;">
                    <div class="form-group">
                        <label for="funfact-text" class="form-label">New Fun Fact</label>
                        <input type="text" id="funfact-text" class="form-input" placeholder="Enter a fun fact">
                    </div>
                    <button type="submit" class="btn btn-primary">Add Fun Fact</button>
                </form>
                <div id="funfacts-list">
                    <!-- Fun facts will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Contact & Services Tab -->
        <div class="admin-tab-content" id="contact-tab">
            <div class="card">
                <h2 class="card-header">Contact & Services</h2>
                <form id="contact-form">
                    <div class="form-group">
                        <label for="contact-email" class="form-label">Email</label>
                        <input type="email" id="contact-email" class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="contact-phone" class="form-label">Phone</label>
                        <input type="text" id="contact-phone" class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="contact-whatsapp" class="form-label">WhatsApp</label>
                        <input type="text" id="contact-whatsapp" class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="contact-instagram" class="form-label">Instagram Link</label>
                        <input type="url" id="contact-instagram" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Commission Pricing</label>
                        <div id="commission-pricing-list">
                            <!-- Commission pricing will be loaded here -->
                        </div>
                        <button type="button" class="btn btn-secondary" id="add-pricing-btn">
                            <i class="fas fa-plus"></i> Add Pricing
                        </button>
                    </div>
                    <button type="submit" class="btn btn-primary">Update Contact Info</button>
                </form>
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="admin-tab-content" id="settings-tab">
            <div class="card">
                <h2 class="card-header">Settings</h2>
                <form id="settings-form">
                    <div class="form-group">
                        <label for="logo-upload" class="form-label">Logo</label>
                        <input type="file" id="logo-upload" accept="image/*" class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="background-artworks" class="form-label">Background Artworks</label>
                        <input type="file" id="background-artworks" accept="image/*" multiple class="form-input">
                    </div>
                    <button type="submit" class="btn btn-primary">Update Settings</button>
                </form>
            </div>
        </div>
    </main>

    <!-- Artwork Modal -->
    <div class="modal" id="artwork-modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="modal-close" id="artwork-modal-close">&times;</span>
            <h2 id="artwork-modal-title">Add Artwork</h2>
            <form id="artwork-form">
                <input type="hidden" id="artwork-id">
                <div class="form-group">
                    <label for="artwork-title" class="form-label">Title *</label>
                    <input type="text" id="artwork-title" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="artwork-caption" class="form-label">Caption *</label>
                    <textarea id="artwork-caption" class="form-textarea" required></textarea>
                </div>
                <div class="form-group">
                    <label for="artwork-instagram" class="form-label">Instagram Link</label>
                    <input type="url" id="artwork-instagram" class="form-input">
                </div>
                <div class="form-group">
                    <label for="artwork-image" class="form-label">Image *</label>
                    <input type="file" id="artwork-image" accept="image/*" class="form-input">
                    <img id="artwork-image-preview" src="" alt="Preview" style="max-width: 100%; margin-top: 1rem; display: none; border-radius: 8px;">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="artwork-for-sale"> Mark as For Sale
                    </label>
                </div>
                <button type="submit" class="btn btn-primary">Save Artwork</button>
                <button type="button" class="btn btn-secondary" id="cancel-artwork-form">Cancel</button>
            </form>
        </div>
    </div>

    <!-- Order Detail Modal -->
    <div class="modal" id="order-modal">
        <div class="modal-content" style="max-width: 700px;">
            <span class="modal-close" id="order-modal-close">&times;</span>
            <h2>Order Details</h2>
            <div id="order-modal-content">
                <!-- Order details will be loaded here -->
            </div>
        </div>
    </div>

    <script src="assets/js/config.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/admin.js"></script>
    <script>
        // Theme toggle
        document.getElementById('theme-toggle').addEventListener('click', () => {
            const theme = utils.toggleTheme();
            const icon = document.querySelector('#theme-toggle i');
            icon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
        });

        // Check authentication
        document.addEventListener('DOMContentLoaded', () => {
            if (!utils.isAuthenticated() || !utils.isAdmin()) {
                window.location.href = 'login.html';
                return;
            }
        });

        // Tab switching
        document.querySelectorAll('.admin-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.getAttribute('data-tab');
                
                // Update active tab
                document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update active content
                document.querySelectorAll('.admin-tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.getElementById(`${tabName}-tab`).classList.add('active');
                
                // Load tab data
                if (tabName === 'overview') {
                    admin.loadDashboardStats();
                } else if (tabName === 'artworks') {
                    admin.loadArtworks();
                } else if (tabName === 'orders') {
                    admin.loadOrders();
                } else if (tabName === 'about') {
                    admin.loadAbout();
                } else if (tabName === 'funfacts') {
                    admin.loadFunFacts();
                } else if (tabName === 'contact') {
                    admin.loadContact();
                } else if (tabName === 'settings') {
                    admin.loadSettings();
                }
            });
        });
    </script>
</body>
</html>

